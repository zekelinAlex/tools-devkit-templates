{
	"$schema": "http://json.schemastore.org/template",
	"author": "NETWORG",
	"identity": "TALXIS.DevKit.Templates.Dataverse.Form",
	"name": "Power Platform: Form",
	"shortName": "pp-entity-form",
	"tags": {
		"language": "XML",
		"type": "item"
	},
	"sourceName": "examplecustomentity",
	"sources": [
		{
			"modifiers": [
				{
					"condition": "(!AddMainForm)",
					"exclude": ["SolutionDeclarationsRoot/Entities/ItemFolderName/FormXml/main/*"]
				},
				{
					"condition": "(!AddQuickCreateForm)",
					"exclude": ["SolutionDeclarationsRoot/Entities/ItemFolderName/FormXml/quick/*"]
				},
				{
					"condition": "(!AddDialogForm)",
					"exclude": ["SolutionDeclarationsRoot/Dialogs/*"]
				}
			]
		}
	],
	"preferNameDirectory": false,
	"symbols": {
		"FormType": {
			"type": "parameter",
			"datatype": "choice",
			"replaces": "formtypeexample",
			"isRequired": true,
			"choices": [
				{
					"choice": "main",
					"description": "Main Form"
				},
				{
					"choice": "quickCreate",
					"description": "Quick Create Form"
				}
				,
				{
					"choice": "dialog",
					"description": "Dialog Form"
				}
			],
			"description": "Type of form to create: main (full entity form), quickCreate (quick create form), or dialog (dialog form)"
		},
		"SolutionRootPath": {
			"type": "parameter",
			"datatype": "text",
			"defaultValue": ".",
			"replaces": "SolutionDeclarationsRoot",
			"fileRename": "SolutionDeclarationsRoot",
			"description": "Path to the solution root directory"
		},
		"EntitySchemaName": {
			"type": "parameter",
			"datatype": "text",
			"defaultValue": ".",
			"replaces": "ItemFolderName",
			"fileRename": "ItemFolderName",
			"description": "Logical name of the entity for which the form will be created"
		},
		"FormName": {
			"type": "parameter",
			"datatype": "text",
			"isRequired": false,
			"defaultValue": "Generated Form",
			"replaces": "formexamplename",
			"fileRename": "formexamplename",
			"description": "Display name for the form that will be shown to users"
		},
		"AddMainForm": {
			"type": "computed",
			"value": "(FormType == \"main\")",
			"description": "Automatically computed: True when FormType is main, False otherwise"
		},
		"AddQuickCreateForm": {
			"type": "computed",
			"value": "(FormType == \"quickCreate\")",
			"description": "Automatically computed: True when FormType is quickCreate, False otherwise"
		},
		"AddDialogForm": {
			"type": "computed",
			"value": "(FormType == \"dialog\")",
			"description": "Automatically computed: True when FormType is dialog, False otherwise"
		},
		//forms
		"FormId": {
			"type": "parameter",
			"generator": "guid",
			"replaces": "formexampleId",
			"fileRename": "formexampleId",
			"parameters": {
				"defaultFormat": "d"
			},
			"description": "Unique identifier for the form (automatically generated GUID)"
		},
		//Main Form IDs
		"1formexampleId": {
			"type": "generated",
			"generator": "guid",
			"replaces": "1formexampleId",
			"parameters": {
				"defaultFormat": "d"
			},
			"description": "GUID for the main tab element (automatically generated)"
		},
		"2formexampleId": {
			"type": "generated",
			"generator": "guid",
			"replaces": "2formexampleId",
			"parameters": {
				"defaultFormat": "d"
			}
		},
		"3formexampleId": {
			"type": "generated",
			"generator": "guid",
			"replaces": "3formexampleId",
			"parameters": {
				"defaultFormat": "d"
			}
		},
		"4formexampleId": {
			"type": "generated",
			"generator": "guid",
			"replaces": "4formexampleId",
			"parameters": {
				"defaultFormat": "d"
			}
		},
		"5formexampleId": {
			"type": "generated",
			"generator": "guid",
			"replaces": "5formexampleId",
			"parameters": {
				"defaultFormat": "d"
			}
		},
		"6formexampleId": {
			"type": "generated",
			"generator": "guid",
			"replaces": "6formexampleId",
			"parameters": {
				"defaultFormat": "d"
			}
		},
		"7formexampleId": {
			"type": "generated",
			"generator": "guid",
			"replaces": "7formexampleId",
			"parameters": {
				"defaultFormat": "d"
			}
		},
		"8formexampleId": {
			"type": "generated",
			"generator": "guid",
			"replaces": "8formexampleId",
			"parameters": {
				"defaultFormat": "d"
			}
		},
		"9formexampleId": {
			"type": "generated",
			"generator": "guid",
			"replaces": "9formexampleId",
			"parameters": {
				"defaultFormat": "d"
			}
		},
		"10formexampleId": {
			"type": "generated",
			"generator": "guid",
			"replaces": "10formexampleId",
			"parameters": {
				"defaultFormat": "d"
			}
		},
		"11formexampleId": {
			"type": "generated",
			"generator": "guid",
			"replaces": "11formexampleId",
			"parameters": {
				"defaultFormat": "d"
			}
		},
		"12formexampleId": {
			"type": "generated",
			"generator": "guid",
			"replaces": "12formexampleId",
			"parameters": {
				"defaultFormat": "d"
			}
		},
		"13formexampleId": {
			"type": "generated",
			"generator": "guid",
			"replaces": "13formexampleId",
			"parameters": {
				"defaultFormat": "d"
			}
		},
		"14formexampleId": {
			"type": "generated",
			"generator": "guid",
			"replaces": "14formexampleId",
			"parameters": {
				"defaultFormat": "d"
			}
		},
		"15formexampleId": {
			"type": "generated",
			"generator": "guid",
			"replaces": "15formexampleId",
			"parameters": {
				"defaultFormat": "d"
			}
		},
		"16formexampleId": {
			"type": "generated",
			"generator": "guid",
			"replaces": "16formexampleId",
			"parameters": {
				"defaultFormat": "d"
			}
		},
		"17formexampleId": {
			"type": "generated",
			"generator": "guid",
			"replaces": "17formexampleId",
			"parameters": {
				"defaultFormat": "d"
			}
		},
		"18formexampleId": {
			"type": "generated",
			"generator": "guid",
			"replaces": "18formexampleId",
			"parameters": {
				"defaultFormat": "d"
			}
		},
		"19formexampleId": {
			"type": "generated",
			"generator": "guid",
			"replaces": "19formexampleId",
			"parameters": {
				"defaultFormat": "d"
			}
		},
		"20formexampleId": {
			"type": "generated",
			"generator": "guid",
			"replaces": "20formexampleId",
			"parameters": {
				"defaultFormat": "d"
			}
		},
		//Quick Create Form IDs
		"1formexampleId": {
			"type": "generated",
			"generator": "guid",
			"replaces": "1formexampleId",
			"parameters": {
				"defaultFormat": "d"
			}
		},
		"2formexampleId": {
			"type": "generated",
			"generator": "guid",
			"replaces": "2formexampleId",
			"parameters": {
				"defaultFormat": "d"
			}
		},
		"3formexampleId": {
			"type": "generated",
			"generator": "guid",
			"replaces": "3formexampleId",
			"parameters": {
				"defaultFormat": "d"
			}
		},
		"4formexampleId": {
			"type": "generated",
			"generator": "guid",
			"replaces": "4formexampleId",
			"parameters": {
				"defaultFormat": "d"
			}
		},
		"5formexampleId": {
			"type": "generated",
			"generator": "guid",
			"replaces": "5formexampleId",
			"parameters": {
				"defaultFormat": "d"
			}
		},
		"6formexampleId": {
			"type": "generated",
			"generator": "guid",
			"replaces": "6formexampleId",
			"parameters": {
				"defaultFormat": "d"
			}
		},
		"7formexampleId": {
			"type": "generated",
			"generator": "guid",
			"replaces": "7formexampleId",
			"parameters": {
				"defaultFormat": "d"
			}
		},
		"8formexampleId": {
			"type": "generated",
			"generator": "guid",
			"replaces": "8formexampleId",
			"parameters": {
				"defaultFormat": "d"
			}
		},
		"9formexampleId": {
			"type": "generated",
			"generator": "guid",
			"replaces": "9formexampleId",
			"parameters": {
				"defaultFormat": "d"
			}
		},
		"10formexampleId": {
			"type": "generated",
			"generator": "guid",
			"replaces": "10formexampleId",
			"parameters": {
				"defaultFormat": "d"
			}
		},
		"11formexampleId": {
			"type": "generated",
			"generator": "guid",
			"replaces": "11formexampleId",
			"parameters": {
				"defaultFormat": "d"
			}
		},
		"12formexampleId": {
			"type": "generated",
			"generator": "guid",
			"replaces": "12formexampleId",
			"parameters": {
				"defaultFormat": "d"
			}
		},
		"13formexampleId": {
			"type": "generated",
			"generator": "guid",
			"replaces": "13formexampleId",
			"parameters": {
				"defaultFormat": "d"
			}
		},
		"14formexampleId": {
			"type": "generated",
			"generator": "guid",
			"replaces": "14formexampleId",
			"parameters": {
				"defaultFormat": "d"
			}
		}
	},
	"postActions": [
		{
			"actionId": "3A7C4B45-1F5D-4A30-959A-51B88E82B5D2",
			"args": {
				"executable": "pwsh",
				"args": "-noprofile -executionpolicy bypass -File \"./.template.scripts/AddFormToSolutionXml.ps1\"",
				"redirectStandardOutput": "false"
			},
			"manualInstructions": [{ "text": "Adding form to solution.xml" }],
			"continueOnError": false,
			"description": "Adding form to solution.xml"
		},
		{
			"actionId": "3A7C4B45-1F5D-4A30-959A-51B88E82B5D2",
			"args": {
			  "executable": "pwsh",
			  "condition": "(FormType == 'dialog')",
			  "args": "-noprofile -executionpolicy bypass -File \"./.template.scripts/AddToCustomizationsXml.ps1\" ",
			  "redirectStandardOutput": "false"
			},
			"manualInstructions": [
			  {
				"text": "Adding new dialog to Customizations.xml"
			  }
			],
			"continueOnError": false,
			"description": "Adding new dialog to Customizations.xml"
		  },
		{
			"actionId": "3A7C4B45-1F5D-4A30-959A-51B88E82B5D2",
			"condition": "(AddDialogForm)",
			"args": {
				"executable": "pwsh",
				"args": "-noprofile -executionpolicy bypass -File \"./.template.scripts/SetVariables.ps1\"",
				"redirectStandardOutput": "false"
			},
			"manualInstructions": [{ "text": "Setting variables for new form" }],
			"continueOnError": false,
			"description": "Setting variables for new form"
		},
		{
			"actionId": "3A7C4B45-1F5D-4A30-959A-51B88E82B5D2",
			"args": {
				"executable": "pwsh",
				"args": "-noprofile -executionpolicy bypass -File \"./.template.scripts/Cleanup.ps1\"",
				"redirectStandardOutput": "false"
			},
			"manualInstructions": [{ "text": "Removing Scripts" }],
			"continueOnError": false,
			"description": "Removing Scripts"
		}
	]
}
