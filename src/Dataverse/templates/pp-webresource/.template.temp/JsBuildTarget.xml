<BuildTarget>
  <PropertyGroup >
    <UiScriptsProject>csprojfilepathexample</UiScriptsProject>
    <UiScriptsDir>$([System.IO.Path]::GetDirectoryName('$(UiScriptsProject)'))\</UiScriptsDir>
    <UiScriptBuiltFile>$(UiScriptsDir)TS\build\libraryexamplename.js</UiScriptBuiltFile>
    <WebResourcesDir>$(SolutionRootPath)\WebResources\</WebResourcesDir>
    <RenamedUiScript>$(WebResourcesDir)examplepublisher_libraryexamplename.js</RenamedUiScript>
  </PropertyGroup>
  <Target Name="BuildUiScriptsAndCopyUdppMain" BeforeTargets="CoreCompile" >
    <MSBuild Projects="$(UiScriptsProject)" Targets="Build" Properties="Configuration=$(Configuration)" />
    <Error Text="libraryexamplename.js not found at $(UiScriptBuiltFile) after building UI.Scripts" Condition="!Exists('$(UiScriptBuiltFile)')" />
    <MakeDir Directories="$(WebResourcesDir)" />
    <Copy SourceFiles="$(UiScriptBuiltFile)"
          DestinationFiles="$(RenamedUiScript)"
          SkipUnchangedFiles="true" />
  </Target>
</BuildTarget>